<html>

<head>
  <style>
    form {
      width: 100%;
    }

    textarea {
      width: 100%;
      resize: vertical;
      height: 40vh;
    }
  </style>
</head>

<body>
  <form action="/" method="POST">
    <textarea id="code" name="code">{{ code }}</textarea>
    <button type="submit">submit</button>
  </form>
  <textarea id="output">{{ output }}</textarea>
  <script>
    const textArea = document.getElementById("code");
    textArea.addEventListener('keydown', function (event) {
      if (event.key == 'Tab') {
        event.preventDefault();
        var start = this.selectionStart;
        var end = this.selectionEnd;
        this.value = this.value.substring(0, start) +
          "\t" + this.value.substring(end);
        this.selectionStart =
          this.selectionEnd = start + 1;
      }
    })
  </script>
</body>

</html>